{"version":3,"names":["_utils","require","backgroundImage","name","generate","style","options","_backgroundImage","background","_backgroundSize","backgroundSize","styleRules","source","url","push","selector","key","value","encodeURI","safeDecodeURI","_default","exports","default"],"sources":["@wordpress/style-engine/src/styles/background/index.ts"],"sourcesContent":["/**\n * Internal dependencies\n */\nimport type { GeneratedCSSRule, Style, StyleOptions } from '../../types';\nimport { safeDecodeURI } from '../utils';\n\nconst backgroundImage = {\n\tname: 'backgroundImage',\n\tgenerate: ( style: Style, options: StyleOptions ) => {\n\t\tconst _backgroundImage = style?.background?.backgroundImage;\n\t\tconst _backgroundSize = style?.background?.backgroundSize;\n\n\t\tconst styleRules: GeneratedCSSRule[] = [];\n\n\t\tif ( ! _backgroundImage ) {\n\t\t\treturn styleRules;\n\t\t}\n\n\t\tif ( _backgroundImage?.source === 'file' && _backgroundImage?.url ) {\n\t\t\tstyleRules.push( {\n\t\t\t\tselector: options.selector,\n\t\t\t\tkey: 'backgroundImage',\n\t\t\t\t// Passed `url` may already be encoded. To prevent double encoding, decodeURI is executed to revert to the original string.\n\t\t\t\tvalue: `url( '${ encodeURI(\n\t\t\t\t\tsafeDecodeURI( _backgroundImage.url )\n\t\t\t\t) }' )`,\n\t\t\t} );\n\t\t}\n\n\t\t// If no background size is set, but an image is, default to cover.\n\t\tif ( ! _backgroundSize ) {\n\t\t\tstyleRules.push( {\n\t\t\t\tselector: options.selector,\n\t\t\t\tkey: 'backgroundSize',\n\t\t\t\tvalue: 'cover',\n\t\t\t} );\n\t\t}\n\n\t\treturn styleRules;\n\t},\n};\n\nexport default [ backgroundImage ];\n"],"mappings":";;;;;;AAIA,IAAAA,MAAA,GAAAC,OAAA;AAJA;AACA;AACA;;AAIA,MAAMC,eAAe,GAAG;EACvBC,IAAI,EAAE,iBAAiB;EACvBC,QAAQ,EAAEA,CAAEC,KAAY,EAAEC,OAAqB,KAAM;IACpD,MAAMC,gBAAgB,GAAGF,KAAK,EAAEG,UAAU,EAAEN,eAAe;IAC3D,MAAMO,eAAe,GAAGJ,KAAK,EAAEG,UAAU,EAAEE,cAAc;IAEzD,MAAMC,UAA8B,GAAG,EAAE;IAEzC,IAAK,CAAEJ,gBAAgB,EAAG;MACzB,OAAOI,UAAU;IAClB;IAEA,IAAKJ,gBAAgB,EAAEK,MAAM,KAAK,MAAM,IAAIL,gBAAgB,EAAEM,GAAG,EAAG;MACnEF,UAAU,CAACG,IAAI,CAAE;QAChBC,QAAQ,EAAET,OAAO,CAACS,QAAQ;QAC1BC,GAAG,EAAE,iBAAiB;QACtB;QACAC,KAAK,EAAG,SAASC,SAAS,CACzB,IAAAC,oBAAa,EAAEZ,gBAAgB,CAACM,GAAI,CACrC,CAAG;MACJ,CAAE,CAAC;IACJ;;IAEA;IACA,IAAK,CAAEJ,eAAe,EAAG;MACxBE,UAAU,CAACG,IAAI,CAAE;QAChBC,QAAQ,EAAET,OAAO,CAACS,QAAQ;QAC1BC,GAAG,EAAE,gBAAgB;QACrBC,KAAK,EAAE;MACR,CAAE,CAAC;IACJ;IAEA,OAAON,UAAU;EAClB;AACD,CAAC;AAAC,IAAAS,QAAA,GAEa,CAAElB,eAAe,CAAE;AAAAmB,OAAA,CAAAC,OAAA,GAAAF,QAAA"}